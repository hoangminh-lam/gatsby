(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{SGa5:function(e,t,n){"use strict";n.r(t);n("6kNP"),n("8npG");var r=n("o0o1"),a=n.n(r),o=(n("ls82"),n("q1tI")),s=n.n(o),c=n("Wbzz");function i(e,t,n,r,a,o,s){try{var c=e[o](s),i=c.value}catch(u){return void n(u)}c.done?t(i):Promise.resolve(i).then(r,a)}t.default=function(){var e=Object(o.useRef)(),t=Object(o.useRef)(),n=function(){var n,r=(n=a.a.mark((function n(){var r,o,s,i,u;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.current.value,o=t.current.value,n.prev=2,n.next=5,fetch("http://localhost:1337/auth/local",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({identifier:r,password:o})}).then((function(e){if(200!==e.status)throw new Error("ログイン出来ない");return e.json()}));case 5:s=n.sent,i=s.jwt,u=s.user,window.sessionStorage.setItem("jwt",i),window.sessionStorage.setItem("user",JSON.stringify(u)),Object(c.navigate)("/"),n.next=16;break;case 13:n.prev=13,n.t0=n.catch(2),console.log(n.t0);case 16:case"end":return n.stop()}}),n,null,[[2,13]])})),function(){var e=this,t=arguments;return new Promise((function(r,a){var o=n.apply(e,t);function s(e){i(o,r,a,s,c,"next",e)}function c(e){i(o,r,a,s,c,"throw",e)}s(void 0)}))});return function(){return r.apply(this,arguments)}}();return s.a.createElement("div",{className:"allCont"},s.a.createElement("div",{className:"register"},s.a.createElement("input",{type:"text",placeholder:"ユーザーネーム",ref:e}),s.a.createElement("input",{type:"password",placeholder:"パスワード",ref:t}),s.a.createElement("button",{onClick:function(){return n()}},"ログイン")))}}}]);
//# sourceMappingURL=component---src-pages-login-js-9e92e36a1b51971bcb25.js.map