(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{Ysvp:function(e,n,t){"use strict";t.r(n),t.d(n,"projectPageQuery",(function(){return m}));t("q8oJ"),t("YbXK"),t("cFtU"),t("rzGZ"),t("m210"),t("4DPX"),t("6kNP"),t("8npG"),t("3nLz"),t("pJf4");var r=t("o0o1"),o=t.n(r),a=(t("HQhv"),t("ls82"),t("q1tI")),i=t.n(a),c=t("Wbzz"),u=t("9eSz"),l=t.n(u),s=t("Bl7J");t("oH8l");function f(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,n){if(!e)return;if("string"==typeof e)return p(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return p(e,n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function d(e,n,t,r,o,a,i){try{var c=e[a](i),u=c.value}catch(l){return void t(l)}c.done?n(u):Promise.resolve(u).then(r,o)}n.default=function(e){var n,t,r,u=e.data,p=Object(a.useRef)(),m=Object(a.useState)(!1);m[0],m[1];Object(a.useEffect)((function(){var e=window.sessionStorage.getItem("jwt");e?p.current=e:navigate("/login")}),[]),"undefined"!=typeof window&&(n=window.sessionStorage.getItem("user"),t=JSON.parse(n),r=t.userinfo.id,console.log(r));var h=function(e){var n=[];return e.map((function(e){return n.push(e.id)})),console.log(e),n},v=function(){var e,n=(e=o.a.mark((function e(n,t){var a,i,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.split("_")[1],i=h(t),c=[].concat(f(i),[r]),console.log(c),e.next=6,fetch("http://localhost:1337/projects/"+a,{method:"PUT",headers:{Authorization:"Bearer "+p.current,"Content-Type":"application/json"},body:JSON.stringify({likes:c})}).then((function(e){return e.json()}));case 6:e.sent;case 7:case"end":return e.stop()}}),e)})),function(){var n=this,t=arguments;return new Promise((function(r,o){var a=e.apply(n,t);function i(e){d(a,r,o,i,c,"next",e)}function c(e){d(a,r,o,i,c,"throw",e)}i(void 0)}))});return function(e,t){return n.apply(this,arguments)}}();return i.a.createElement(s.a,null,i.a.createElement("h1",null,"Project情報"),i.a.createElement("ul",null,u.allStrapiProject.edges.map((function(e){return i.a.createElement("li",{key:e.node.id},i.a.createElement("h2",null,i.a.createElement(c.Link,{to:"/project/"+e.node.id},e.node.name)),i.a.createElement(l.a,{fixed:e.node.logo.childImageSharp.fixed}),i.a.createElement("p",{className:"button-like",onClick:function(){return v(e.node.id,e.node.likes)}},"気になる"))}))),i.a.createElement("p",null,i.a.createElement(c.Link,{to:"/"},"Top Page")))};var m="4040455435"},oH8l:function(e,n,t){}}]);
//# sourceMappingURL=component---src-pages-project-index-js-a26730a6170ed563b29a.js.map